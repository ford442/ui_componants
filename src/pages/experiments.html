<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visual Experiments - UI Components</title>
    <link rel="stylesheet" href="../css/main.css">
    <style>
        .experiment-showcase {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            padding: 2rem;
            align-items: center;
            justify-content: center;
            min-height: 200px;
        }

        .section-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .section-header h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .experiment-section {
            margin-bottom: 3rem;
        }

        .controls-card {
            background: rgba(20, 20, 31, 0.8);
            border-radius: 16px;
            padding: 2rem;
            margin-top: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .controls-grid {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 1rem;
        }

        .control-label {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .control-label:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--accent-primary);
        }

        .control-label input[type="checkbox"] {
            width: 24px;
            height: 24px;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="page-header">
            <a href="../index.html" class="back-link">‚Üê Back</a>
            <div>
                <h1>üé® Visual Experiments</h1>
                <p class="subtitle">Cutting-edge UI effects with Canvas 2D, WebGL2, and spring physics</p>
            </div>
        </div>

        <!-- Jello-Bounce Buttons -->
        <section class="experiment-section">
            <div class="component-card">
                <div class="section-header">
                    <h2>Jello-Bounce Buttons</h2>
                    <p class="description">Click to see satisfying squash-and-stretch spring physics</p>
                    <div class="layers">
                        <span class="layer-tag css">CSS Spring Animation</span>
                    </div>
                </div>
                <div class="experiment-showcase">
                    <button class="jello-btn"
                        style="padding: 1.2rem 2.5rem; background: linear-gradient(135deg, #00ff88, #00aaff); border: none; border-radius: 16px; color: #0a0a0f; font-weight: bold; font-size: 1.1rem; cursor: pointer; box-shadow: 0 8px 24px rgba(0, 255, 136, 0.3);">
                        Click Me!
                    </button>
                    <button class="jello-btn"
                        style="padding: 1.2rem 2.5rem; background: linear-gradient(135deg, #ff0088, #ff8800); border: none; border-radius: 16px; color: white; font-weight: bold; font-size: 1.1rem; cursor: pointer; box-shadow: 0 8px 24px rgba(255, 0, 136, 0.3);">
                        Bounce!
                    </button>
                    <button class="jello-btn"
                        style="padding: 1.2rem 2.5rem; background: linear-gradient(135deg, #8800ff, #0088ff); border: none; border-radius: 16px; color: white; font-weight: bold; font-size: 1.1rem; cursor: pointer; box-shadow: 0 8px 24px rgba(136, 0, 255, 0.3);">
                        Squish!
                    </button>
                </div>
            </div>
        </section>

        <!-- SVG Morphing -->
        <section class="experiment-section">
            <div class="component-card">
                <div class="section-header">
                    <h2>Elastic SVG Morphing</h2>
                    <p class="description">Click shapes to morph with spring-based elastic overshoot</p>
                    <div class="layers">
                        <span class="layer-tag svg">SVG Path Morphing</span>
                        <span class="layer-tag css">Spring Physics</span>
                    </div>
                </div>
                <div class="experiment-showcase" id="morphing-container">
                    <!-- Morphing buttons will be created by JS -->
                </div>
            </div>
        </section>

        <!-- Background Effects Controls -->
        <div class="controls-card">
            <div class="section-header">
                <h2>Ambient Background Effects</h2>
                <p class="description">Toggle full-page visual effects (GPU-accelerated)</p>
            </div>
            <div class="controls-grid">
                <label class="control-label">
                    <input type="checkbox" id="toggle-aurora">
                    <div>
                        <span class="layer-tag webgl2">Aurora Background</span>
                        <div style="font-size: 0.85rem; color: #888; margin-top: 0.25rem;">WebGL2 shader with flowing
                            gradients</div>
                    </div>
                </label>
                <label class="control-label">
                    <input type="checkbox" id="toggle-particles">
                    <div>
                        <span class="layer-tag css">Magnetic Particles</span>
                        <div style="font-size: 0.85rem; color: #888; margin-top: 0.25rem;">Canvas 2D interactive
                            particle field</div>
                    </div>
                </label>
            </div>
        </div>

        <!-- Liquid Ripple Buttons -->
        <section class="experiment-section">
            <div class="component-card">
                <div class="section-header">
                    <h2>Liquid Ripple Buttons</h2>
                    <p class="description">Canvas 2D water ripple effect on interaction</p>
                    <div class="layers">
                        <span class="layer-tag">Canvas 2D</span>
                        <span class="layer-tag">Interactive</span>
                    </div>
                </div>
                <div class="experiment-showcase">
                    <button class="liquid-btn"
                        style="padding: 1.2rem 2.5rem; background: #3344cc; color: white; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; overflow: hidden; position: relative;">
                        Click for Ripple
                    </button>
                    <button class="liquid-btn"
                        style="padding: 1.2rem 2.5rem; background: #cc3344; color: white; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; overflow: hidden; position: relative;">
                        Another One
                    </button>
                </div>
            </div>
        </section>

        <!-- Switch Experiments Showcase -->
        <section class="experiment-section">
            <div class="component-card">
                <div class="section-header">
                    <h2>Advanced Switches</h2>
                    <p class="description">Next-gen toggles with CSS, SVG and WebGL2 effects</p>
                    <div class="layers">
                        <span class="layer-tag webgl2">WebGL2</span>
                        <span class="layer-tag css">CSS 3D</span>
                    </div>
                </div>
                <!-- Container for switches using IDs expected by switches-experiments.js -->
                <div class="experiment-showcase" style="flex-direction: column; gap: 2rem;">
                    <!-- Neon -->
                    <div id="neon-switches" style="transform: scale(0.8);"></div>
                    <!-- Portal -->
                    <div id="portal-toggle"
                        style="position: relative; width: 120px; height: 60px; transform: scale(0.8);"></div>
                    <!-- Circuit Breaker -->
                    <div id="circuit-breaker"
                        style="position: relative; width: 100px; height: 160px; transform: scale(0.8);"></div>
                    <!-- Bio-Mech -->
                    <div id="bio-mechanical-switch" style="transform: scale(0.8);"></div>
                </div>
            </div>
        </section>

        <!-- 3D Knob Experiment -->
        <section class="experiment-section">
            <div class="component-card">
                <div class="section-header">
                    <h2>3D Rotating Knob</h2>
                    <p class="description">WebGL2 Sphere with Phong lighting and drag rotation</p>
                    <div class="layers">
                        <span class="layer-tag webgl2">WebGL2</span>
                    </div>
                </div>
                <div class="experiment-showcase">
                    <div id="knob-3d-container"
                        style="width: 200px; height: 200px; background: rgba(0,0,0,0.2); border-radius: 12px;"></div>
                </div>
            </div>
        </section>

        <!-- Glitch Scroll Reveal -->
        <section class="experiment-section"
            style="min-height: 400px; display: flex; flex-direction: column; align-items: center;">
            <div class="section-header">
                <h2>Glitch Scroll Reveal</h2>
                <p class="description">Scroll down to see element corrupted entry</p>
                <div class="layers">
                    <span class="layer-tag css">CSS Keyframes</span>
                    <span class="layer-tag">Observer</span>
                </div>
            </div>
            <div class="controls-card glitch-reveal" style="max-width: 600px; margin: 2rem auto;">
                <h3 style="margin-bottom: 1rem;">Corrupted Data Block 01</h3>
                <p style="columns: #aaa; line-height: 1.6;">
                    System integrity verification... [FAILED].
                    Re-routing neural pathways... [COMPLETE].
                    This content was revealed with a programmed glitch effect triggered by intersection observation.
                </p>
            </div>
            <div class="controls-card glitch-reveal" style="max-width: 600px; margin: 2rem auto;">
                <h3 style="margin-bottom: 1rem;">Corrupted Data Block 02</h3>
                <p style="columns: #aaa; line-height: 1.6;">
                    Anomaly detected in sector 7G. Visual artifacts manifesting in DOM elements.
                </p>
            </div>
        </section>

        <!-- Info Section -->
        <div class="info-section">
            <h2>Implementation Details</h2>
            <ul>
                <li><strong>Jello-Bounce:</strong> Pure CSS spring easing</li>
                <li><strong>SVG Morph:</strong> Path interpolation with physics</li>
                <li><strong>Liquids:</strong> Canvas 2D particle ripples</li>
                <li><strong>Switches:</strong> Mixed CSS/WebGL2 shaders for vortex/arcs</li>
                <li><strong>3D Knob:</strong> Raw WebGL2 vertex/fragment shaders</li>
                <li><strong>Glitch:</strong> CSS clip-path animation on scroll</li>
            </ul>
        </div>
    </div>

    <!-- Load experiment scripts -->
    <script src="../js/magnetic-particles.js"></script>
    <script src="../js/aurora-background.js"></script>
    <script src="../js/svg-morph.js"></script>
    <script src="../js/portal-toggle-shader.js"></script>
    <script src="../js/circuit-breaker-shader.js"></script>
    <script src="../js/switches-experiments.js"></script>
    <script src="../js/liquid-ripple.js"></script>
    <script src="../js/knob-3d.js"></script>
    <script src="../js/glitch-scroll.js"></script>

    <script>
        // Initialize experiments when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            // Create SVG Morphing Buttons
            const morphingContainer = document.getElementById('morphing-container');
            if (morphingContainer && window.MorphingButton) {
                const colors = ['#00ff88', '#00aaff', '#ff0088', '#ffaa00', '#8800ff'];
                colors.forEach(color => {
                    new MorphingButton(morphingContainer, {
                        width: 100,
                        height: 100,
                        shape1: 'circle',
                        shape2: 'square',
                        fillColor: color
                    });
                });
            }

            // Background effects state
            let auroraInstance = null;
            let particlesInstance = null;

            // Aurora Background toggle
            const auroraToggle = document.getElementById('toggle-aurora');
            auroraToggle?.addEventListener('change', (e) => {
                if (e.target.checked) {
                    if (!auroraInstance && window.AuroraBackground) {
                        auroraInstance = new AuroraBackground(document.body, {
                            intensity: 0.4,
                            speed: 0.04,
                            colors: [
                                [0.2, 0.8, 0.9],  // cyan
                                [0.9, 0.2, 0.8],  // magenta
                                [0.5, 0.3, 0.9]   // purple
                            ]
                        });
                    }
                } else {
                    if (auroraInstance) {
                        auroraInstance.destroy();
                        auroraInstance = null;
                    }
                }
            });

            // Magnetic Particles toggle
            const particlesToggle = document.getElementById('toggle-particles');
            particlesToggle?.addEventListener('change', (e) => {
                if (e.target.checked) {
                    if (!particlesInstance && window.MagneticParticleField) {
                        particlesInstance = new MagneticParticleField(document.body, {
                            particleCount: 1800,
                            particleSize: 2,
                            particleColor: 'rgba(0, 255, 136, 0.6)',
                            lineColor: 'rgba(0, 170, 255, 0.2)',
                            maxLineDistance: 100,
                            magneticForce: 0.03,
                            friction: 0.98,
                            constellationMode: true
                        });
                    }
                } else {
                    if (particlesInstance) {
                        particlesInstance.destroy();
                        particlesInstance = null;
                    }
                }
            });
        });
    </script>
</body>

</html>